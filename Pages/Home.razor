@page "/"
@inject ILocalStorageService LocalStorage

<PageTitle>Kaj 70 Ã¥r</PageTitle>

<div>
    @if (_mode == Mode.LoginRiddle)
    {
        <LoginRiddle NotifyParent="OnModeChanged"></LoginRiddle>
    }
    else if (_mode == Mode.HouseRiddle)
    {
        <HouseRiddle></HouseRiddle>
    }
    else
    {
        <p>Done!</p>
    }
</div>

@code {
    public enum Mode { LoginRiddle, HouseRiddle, NextRiddle }
    private Mode _mode = Mode.LoginRiddle;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var mode = await LocalStorage.GetItemAsync<Mode?>("Mode");
            if (mode != null)
            {
                _mode = mode.Value;
            }

            StateHasChanged();
        }
    }

    private void OnModeChanged(Mode mode)
    {
        _mode = mode;
        StateHasChanged();
    }
}